# Анализ: Moodle / Totara Learn

**Дата анализа:** 2025-12-10
**Аналитик:** Claude (Research Agent)
**Источник:** https://moodle.org / https://www.totaralearning.com

---

## 1. Краткий обзор

Moodle и Totara Learn представляют собой два взаимосвязанных решения в мире открытых LMS-платформ, каждое со своей специфической нишей.

### Moodle LMS

**Moodle** (Modular Object-Oriented Dynamic Learning Environment) — самая распространённая открытая платформа LMS в мире, обслуживающая более **300 миллионов пользователей** в 250+ странах. Изначально созданная для академического сектора (университеты, школы), Moodle постепенно завоевала позиции и в корпоративном обучении, особенно в организациях, требующих полного контроля над данными.

### Totara Learn

**Totara Learn** — это корпоративный форк Moodle, созданный в 2010 году специально для бизнес-сектора. Totara сохраняет ядро Moodle, но добавляет:
- Многопользовательские (multi-tenancy) возможности
- Управление компетенциями и сертификациями
- Интеграцию с HR-системами
- Расширенную отчётность для корпоративного контекста

**Доверяют более 19 миллионов пользователей** в правительственных организациях, крупных корпорациях и образовательных учреждениях.

### Тип системы

**Moodle:** Академическая LMS с возможностью адаптации для корпоративного использования (гибрид)

**Totara Learn:** Корпоративная LMS, специализированная на workplace learning

### Целевая аудитория

**Moodle:**
- Университеты и высшие учебные заведения (основной сегмент)
- Школы K-12
- Средние и малые компании
- Государственные образовательные программы
- НКО и некоммерческие образовательные инициативы

**Totara Learn:**
- Крупные корпорации и предприятия
- Государственные организации (правительственные учебные порталы)
- Госкорпорации, требующие self-hosted решений
- Организации с жёсткими требованиями к compliance и сертификации
- Компании с развитой организационной структурой и управлением компетенциями

### Ключевые отличия от конкурентов

**Moodle 4.0+: Революция UX**

Исторически Moodle критиковали за устаревший, перегруженный интерфейс. В 2022 году вышла **Moodle 4.0** с масштабным редизайном:

1. **Современный, чистый интерфейс** — переход от громоздких меню к вкладочной навигации и упрощённой структуре
2. **Улучшенный Dashboard** — информативный дашборд с таймлайном дедлайнов и кнопками быстрых действий
3. **Адаптивный дизайн** — полноценная мобильная адаптация (responsive design)
4. **Снижение когнитивной нагрузки** — контекстное меню, сворачиваемые разделы курса
5. **Единая философия навигации** — предсказуемое расположение элементов на всех страницах

**Totara Learn: Корпоративная мощь**

1. **Multi-tenancy из коробки** — возможность создать несколько независимых "подорганизаций" с собственным брендингом, правами доступа и курсами (идеально для холдингов, государственных структур)
2. **Динамические аудитории (audiences)** — автоматическое назначение курсов на основе правил (должность, отдел, компетенции)
3. **Управление компетенциями** — mapping компетенций к ролям, курсам и обучающим траекториям
4. **Certifications & Recertifications** — встроенная система сертификации с автоматическими напоминаниями о продлении (критично для compliance)
5. **Totara Perform** — интегрированный модуль performance management (оценка сотрудников, 360-градусная обратная связь, цели)

**Open Source как преимущество и вызов:**

- ✅ **Полный контроль над данными** — self-hosted на собственных серверах (важно для госсектора России, GDPR)
- ✅ **Нет vendor lock-in** — код открыт, можно мигрировать или модифицировать
- ✅ **Огромная экосистема плагинов** — более 1,900 официальных плагинов в Moodle Plugin Directory
- ❌ **Высокие требования к IT-ресурсам** — нужна команда для поддержки, обновлений, безопасности
- ❌ **Отсутствие официальной техподдержки** — Moodle полагается на сообщество, Totara требует платной подписки (licensing)

### Почему Moodle/Totara в референсах для B3 LMS

**1. Распространённость в России**

Moodle — **де-факто стандарт** для государственных вузов и многих корпораций в РФ. Пользователи уже знакомы с парадигмой Moodle (модули курса, форумы, журнал оценок), что снижает порог входа для B3 LMS при миграции.

**2. Self-hosted модель**

Для государственных заказчиков B3 (импортозамещение, контроль данных) критична возможность размещения на собственных серверах. Moodle/Totara демонстрируют, как можно построить мощную LMS без зависимости от зарубежных облачных провайдеров.

**3. Доказанная масштабируемость**

Moodle используется в университетах с десятками тысяч студентов (например, Open University UK — 170,000+ студентов на Moodle). Totara — в госкорпорациях с филиалами по всему миру. Это важный референс для проектирования B3 LMS под нагрузку.

**4. Эволюция UX: от "функционально, но сложно" к "современно и понятно"**

История Moodle 4.0 показывает, как **можно модернизировать legacy-систему**, не теряя обратной совместимости. Для B3 LMS (который строится на существующей платформе B3) это ценный урок: постепенные UX-улучшения важнее революционных переписываний.

**5. Корпоративные паттерны Totara**

Totara демонстрирует, как адаптировать академическую LMS для бизнеса:
- Компетенции вместо "академических результатов"
- Certifications вместо "дипломов"
- Организационная иерархия вместо "факультетов"
- Performance management вместо "успеваемости"

Эти паттерны напрямую применимы к задачам B3 Learning Portal (обучение сотрудников B3 платформе, сертификация партнёров).

**6. Экосистема плагинов как модель расширяемости**

Архитектура Moodle — **жирное ядро + плагины** (в отличие от "всё есть плагин" в некоторых системах). Это близко к философии B3 Platform: базовый функционал + модули расширений. Изучение Moodle Plugin API помогает понять, как проектировать extensibility в B3 LMS.

## 2. Структура системы

### 2.1. Основные роли

Moodle и Totara используют систему **контекстных ролей** — роль пользователя определяется в конкретном контексте (система, категория курсов, курс, активность).

#### Стандартные роли Moodle

| Роль | Английское название | Описание | Права доступа (примеры) |
|------|---------------------|----------|------------------------|
| **Администратор** | Administrator | Полный доступ к системе | Настройка сайта, управление плагинами, пользователями, резервное копирование |
| **Менеджер курсов** | Manager | Управление курсами на уровне категорий | Создание курсов, назначение преподавателей, просмотр отчётов |
| **Создатель курса** | Course Creator | Создание новых курсов, но без административных прав | Создание курсов в определённых категориях, базовая настройка |
| **Преподаватель** | Teacher (Editing Teacher) | Полный контроль над курсом | Редактирование контента, проверка заданий, выставление оценок, управление записями |
| **Преподаватель без права редактирования** | Non-editing Teacher | Обучение и оценивание без изменения структуры курса | Просмотр материалов, проверка заданий, модерация форумов (без редактирования модулей) |
| **Студент** | Student | Прохождение курса | Просмотр материалов, сдача заданий и тестов, участие в форумах, просмотр своих оценок |
| **Гость** | Guest | Ограниченный просмотр | Доступ только к курсам, разрешающим гостевой вход (обычно read-only) |

#### Дополнительные роли Totara Learn

| Роль | Описание |
|------|----------|
| **Tenant Manager** | Управляет отдельным tenant (подорганизацией) в multi-tenancy режиме |
| **Program Manager** | Управляет программами обучения и сертификациями |
| **Audience Manager** | Настраивает динамические аудитории и правила назначения курсов |
| **Competency Manager** | Управляет фреймворками компетенций и их связями с курсами/должностями |

**Важная особенность:** В Moodle/Totara роли **не взаимоисключающие** — один пользователь может быть студентом одного курса, преподавателем другого и администратором системы одновременно. Права определяются суммой ролей в разных контекстах.

### 2.2. Модель данных (сущности)

Moodle использует реляционную БД (PostgreSQL, MySQL, MariaDB). Totara расширяет эту модель дополнительными таблицами.

#### Основные сущности Moodle

**1. User (Пользователь)**
- **Таблица:** `mdl_user`
- **Атрибуты:** `id`, `username`, `email`, `firstname`, `lastname`, `auth` (тип аутентификации), `timezone`, `lang` (язык интерфейса)
- **Связи:** Profile fields (кастомные поля профиля), Enrolments (записи на курсы)

**2. Course (Курс)**
- **Таблица:** `mdl_course`
- **Атрибуты:** `id`, `fullname`, `shortname`, `category` (ID категории), `format` (формат курса: weeks/topics/social), `startdate`, `enddate`, `visible` (опубликован/скрыт)
- **Особенности:**
  - Moodle НЕ разделяет "шаблон курса" и "экземпляр" — каждый курс = самостоятельная сущность
  - Копирование курса (backup → restore) создаёт новый независимый курс
  - Для B3 LMS: потребуется явная сущность "Шаблон курса" → "Экземпляр курса"

**3. Course Category (Категория курсов)**
- **Таблица:** `mdl_course_categories`
- **Атрибуты:** `id`, `name`, `parent` (ID родительской категории для иерархии), `depth`, `path`
- **Использование:** Организация курсов по департаментам, факультетам, темам

**4. Enrolment (Запись на курс)**
- **Таблица:** `mdl_user_enrolments` + `mdl_enrol` (методы зачисления)
- **Атрибуты:** `userid`, `enrolid` (ссылка на метод зачисления), `timestart`, `timeend`, `status` (active/suspended)
- **Методы зачисления (plugins):**
  - Manual (ручное зачисление администратором)
  - Self (самозапись студента)
  - Cohort (автоматическое зачисление для когорты пользователей)
  - LTI (зачисление через внешний инструмент)
  - Guest (гостевой доступ)
  - Database (синхронизация с внешней БД)

**5. Course Section (Раздел/Неделя/Тема курса)**
- **Таблица:** `mdl_course_sections`
- **Атрибуты:** `course`, `section` (порядковый номер), `name`, `summary`, `visible`
- **Использование:** Логическое разделение курса (Week 1, Week 2 / Topic 1, Topic 2)

**6. Course Module (Модуль активности в курсе)**
- **Таблица:** `mdl_course_modules`
- **Атрибуты:** `id`, `course`, `module` (тип: assignment/quiz/forum/resource), `instance` (ID конкретного экземпляра активности), `section`, `completion` (тип отслеживания завершения)
- **Типы модулей (около 35):**
  - **Контент:** Page, Book, File, Folder, URL, Label
  - **Интерактив:** Assignment, Quiz, Workshop (peer review), Survey, Choice (опрос)
  - **Коммуникация:** Forum, Chat, Glossary, Wiki
  - **Внешние:** LTI (интеграция внешних инструментов), SCORM package
  - **Tracking:** Lesson (пошаговое обучение с ветвлением), Database (студенты создают записи)

**7. Assignment (Задание)**
- **Таблица:** `mdl_assign`
- **Атрибуты:** `id`, `course`, `name`, `intro` (описание), `duedate`, `cutoffdate`, `grade` (максимальный балл)
- **Submission types:** file upload, text online, external tool

**8. Assignment Submission (Сдача задания)**
- **Таблица:** `mdl_assign_submission`
- **Атрибуты:** `id`, `assignment`, `userid`, `timecreated`, `timemodified`, `status` (new/submitted/draft)
- **Хранение:** Файлы → `mdl_files`, текст → `mdl_assignsubmission_onlinetext`

**9. Assignment Grades (Оценка задания)**
- **Таблица:** `mdl_assign_grades`
- **Атрибуты:** `id`, `assignment`, `userid`, `grader` (кто оценил), `grade`, `attemptnumber`

**10. Quiz (Тест)**
- **Таблица:** `mdl_quiz`
- **Атрибуты:** `id`, `course`, `name`, `timeopen`, `timeclose`, `timelimit`, `attempts` (количество попыток)
- **Вопросы:** Хранятся в банке вопросов (`mdl_question`) — переиспользуемые между тестами

**11. Quiz Attempt (Попытка прохождения теста)**
- **Таблица:** `mdl_quiz_attempts`
- **Атрибуты:** `id`, `quiz`, `userid`, `attempt`, `timestart`, `timefinish`, `state` (inprogress/finished)

**12. Forum (Форум)**
- **Таблица:** `mdl_forum`
- **Атрибуты:** `id`, `course`, `type` (general/news/single/Q&A)
- **Дискуссии:** `mdl_forum_discussions` → `mdl_forum_posts` (древовидная структура)

**13. Gradebook (Журнал оценок)**
- **Таблица:** `mdl_grade_items` (элементы оценивания) + `mdl_grade_grades` (оценки студентов)
- **Вычисление:** Итоговая оценка = аggregation (SUM/MEAN/WEIGHTED) элементов категории
- **Категории:** `mdl_grade_categories` — группировка заданий с весами

**14. Completion (Отслеживание завершения)**
- **Таблица:** `mdl_course_modules_completion`
- **Атрибуты:** `coursemoduleid`, `userid`, `completionstate` (0=incomplete, 1=complete, 2=complete_pass, 3=complete_fail), `timemodified`
- **Критерии:** просмотр, submit, получение оценки, ручное "mark as done"

#### Дополнительные сущности Totara Learn

**15. Program (Программа обучения)**
- Объединяет несколько курсов в обучающую траекторию
- Поддержка prerequisites (курс 2 открывается после курса 1)
- Deadline tracking для всей программы

**16. Certification (Сертификация)**
- Программа с обязательным перезачислением (recertification)
- Автоматические напоминания о продлении
- Хранение истории сертификаций (`certification_completion`)

**17. Competency Framework (Фреймворк компетенций)**
- **Таблица:** `totara_competency_framework`
- Иерархия компетенций (например: "Разработка → Backend → API Design")
- Связь с курсами (mapping: курс развивает компетенцию)
- Связь с должностями (requirements: должность требует компетенцию)

**18. Audience (Аудитория)**
- **Таблица:** `cohort` (Moodle: статические когорты), Totara расширяет: **dynamic audiences**
- **Dynamic rules:** "Все пользователи с должностью = 'Разработчик' И департамент = 'IT'" → автоматическое добавление в аудиторию
- Автоматическое назначение курсов на аудиторию

**19. Tenant (Тенант, подорганизация)**
- **Totara-специфичная** сущность для multi-tenancy
- Каждый tenant = изолированная LMS внутри одной установки
- Собственные курсы, пользователи, брендинг, reports

### 2.3. ER-диаграмма (текстовое описание связей)

```
User (M) ──< user_enrolments >── (M) Enrol ──> (1) Course
  ↓ (role assignment)
  ↓
Role_Assignment (контекстная роль)

Course (1) ──> (1) Course_Category
Course (1) ──< (M) Course_Section
Course (1) ──< (M) Course_Module

Course_Module (M) ──> (1) Activity (Assignment / Quiz / Forum / Resource)
   ↓
   ├─> Assignment (1) ──< (M) Assignment_Submission ──> (1) User
   ├─> Quiz (1) ──< (M) Quiz_Attempt ──> (1) User
   └─> Forum (1) ──< (M) Forum_Discussion ──< (M) Forum_Post ──> (1) User

Assignment_Submission (1) ──> (1) Assignment_Grades (оценка)
Quiz_Attempt (1) ──> (1) Quiz_Grades (оценка)

Course_Module (1) ──< (M) Course_Modules_Completion ──> (1) User

Grade_Items (M) ──> (1) Course (все элементы оценивания курса)
Grade_Grades (оценки) (M) ──> (1) Grade_Items
Grade_Grades (M) ──> (1) User

[Totara-специфичные связи:]

Program (1) ──< (M) Program_Courses (курсы в программе)
Certification (1) ──> (1) Program (путь сертификации)
Competency_Framework (1) ──< (M) Competency
Competency (M) ──< competency_course >── (M) Course
Audience (1) ──< (M) Audience_Members ──> (M) User (динамически)
Tenant (1) ──< (M) Course (изоляция)
Tenant (1) ──< (M) User (изоляция)
```

**Ключевые наблюдения для B3 LMS:**

1. **Нет разделения "Шаблон vs Экземпляр"** — это потребуется реализовать в B3 явно (см. `gpt_design.md`: Шаблон курса → Экземпляр курса)

2. **Completion tracking — отдельная подсистема** — в B3 это может быть часть BPMN-процесса ("Завершение элемента курса" → триггер → проверка условий)

3. **Gradebook вычисляется динамически** — в B3 можно реализовать как вычисляемое поле или отдельный процесс пересчёта

4. **Totara добавляет "корпоративный слой"** над академической моделью Moodle — хороший паттерн для B3 (базовая LMS + корпоративные расширения)

## 3. UX/UI особенности

### 3.1. Онбординг: как новый пользователь попадает в систему

**Для студентов (Moodle 4.0):**

1. **Регистрация**
   - Self-registration (если разрешена администратором) — простая форма: username, email, password
   - Приглашение по email от преподавателя/администратора
   - SSO через SAML/OAuth (Active Directory, Google, Azure AD) — для корпоративного использования
   - LDAP-синхронизация — автоматическое создание аккаунтов из корпоративного каталога

2. **Первый вход**
   - После входа студент попадает на **Dashboard** (дашборд)
   - Moodle 4.0: современный приветственный экран с кратким tour (можно пропустить)
   - Dashboard показывает: "Мои курсы", "Таймлайн дедлайнов", "Недавно открытые курсы"

3. **Доступ к курсам**
   - Если студент уже зачислен администратором → курсы видны сразу
   - Если курс с self-enrolment → студент видит каталог курсов → кнопка "Записаться"

**Для преподавателей:**

1. **Создание первого курса**
   - Навигация: Site administration → Courses → Add a new course
   - Форма создания: Course full name, Short name, Category, Start/End dates
   - **Важно:** Moodle требует выбора **Course format** (Topics/Weeks/Social/Single activity)
     - Topics = тематическая структура (Тема 1, Тема 2...)
     - Weeks = недельная структура (Неделя 1, Неделя 2...)
     - Social = курс-форум (без разделов, только общение)

2. **Добавление контента**
   - После создания курса → **"Turn editing on"** (режим редактирования)
   - Преподаватель видит кнопки "+ Add an activity or resource" в каждом разделе
   - Выбор из 35+ типов активностей (Assignment, Quiz, Forum, File, Page...)
   - Drag-and-drop для перемещения элементов

3. **Быстрый старт (Moodle 4.0)**
   - Улучшенный UX: Course index (левая панель) показывает структуру курса в real-time
   - Возможность скрыть/показать разделы одним кликом
   - Bulk actions (массовые операции) — выделить несколько активностей → скрыть/удалить/переместить

### 3.2. Навигация: главное меню, дашборд, структура курса

**Global Navigation (Moodle 4.0 — революционные изменения)**

До Moodle 4.0: громоздкое боковое меню с множеством пунктов (критика: "слишком много кликов").

**Moodle 4.0 (2022): новая философия навигации**

**1. Primary Navigation (Основная навигация — горизонтальная панель вверху)**

Постоянно видимая панель с 4-5 основными пунктами:
- **Home** — Dashboard (главная страница пользователя)
- **My courses** — список всех курсов пользователя (новая страница в Moodle 4.0)
- **Site home** — главная страница LMS (каталог курсов, объявления)
- **[Кастомные ссылки]** — администратор может добавить ссылки (например, "Helpdesk", "Library")

**2. Secondary Navigation (Вторичная навигация — контекстная)**

Появляется при входе в курс или административные разделы:
- В курсе: Participants, Badges, Competencies, Grades, Course reuse (импорт/экспорт)
- Tabs (вкладки) вместо dropdown-меню — **снижение когнитивной нагрузки**

**3. User Menu (Меню пользователя — правый верхний угол)**

Клик на аватар → выпадающее меню:
- Profile (профиль)
- Grades (мои оценки)
- Messages (личные сообщения)
- Preferences (настройки уведомлений, языка, timezone)
- Log out

**Dashboard (Дашборд студента — Home)**

**Moodle 4.0 улучшил Dashboard:**

**Элементы Dashboard:**

1. **Course overview block** — карточки/список курсов
   - Режимы отображения: Card view (карточки с изображениями) / List view / Summary view
   - Фильтры: All / In progress / Future / Past / Starred (избранное)
   - На карточке: название курса, изображение, прогресс (если настроен)

2. **Timeline block** (ключевое нововведение Moodle 4.0)
   - **Таймлайн предстоящих дедлайнов** с кнопками быстрых действий
   - Отображение: "Assignment due in 2 days" → кнопка "Go to assignment"
   - Фильтры по датам: Next 7 days / Next 30 days / Next 3 months / All
   - Сортировка по курсам или по датам
   - **UX-инсайт:** вместо простого списка дат — actionable items с контекстом

3. **Calendar block**
   - Месячный календарь с отметками дедлайнов
   - Клик на дату → список событий
   - Синхронизация с внешними календарями (iCal feed)

4. **Recently accessed courses** — недавно открытые курсы (быстрый доступ)

5. **Private files block** — личное файловое хранилище студента

**Критика Dashboard Moodle (даже в 4.0):**
- ❌ Нет прогресс-баров на карточках курсов (требуется плагин "Progress Bar")
- ❌ Перегрузка блоками — слишком много виджетов на одном экране
- ❌ Отсутствие персонализации — все студенты видят одинаковый Dashboard

**Структура курса (Course Page)**

**Moodle 4.0: три колонки**

1. **Левая панель: Course Index (новинка Moodle 4.0)**
   - Древовидная структура курса: разделы → активности
   - Collapse/Expand sections (сворачивание/разворачивание)
   - **Completion indicators** — галочки рядом с завершёнными элементами
   - **Navigation aids** — клик на элемент → переход к нему (single-page scroll)
   - **UX-преимущество:** студент всегда видит, где он находится в курсе

2. **Центральная область: Content (контент курса)**
   - **Sections (разделы/темы)** — вертикально расположенные блоки
   - Каждый раздел:
     - Название раздела (например, "Week 1: Introduction")
     - Summary (описание раздела — rich-text)
     - Список активностей (Assignment, Quiz, File, Page...)
   - **Collapse sections** — студент может свернуть раздел, чтобы сфокусироваться на текущем
   - **Activity icons** — визуальные иконки для типов активностей (новый дизайн в Moodle 4.4: streamlined line icons)

3. **Правая панель: Blocks (блоки)**
   - Blocks = виджеты (Upcoming events, Recent activity, Course completion status)
   - **Moodle 4.0:** блоки можно сворачивать → снижение visual clutter
   - Преподаватель настраивает, какие блоки показывать

**Навигация внутри активности (Assignment/Quiz):**

- **Breadcrumbs (навигационные крошки)** вверху: Home > My courses > Course name > Assignment name
- Кнопка **"Back to course"** (возврат в курс)
- **Next/Previous activity** (если настроено completion tracking) — переход к следующему элементу

### 3.3. Прогресс-трекинг: как студент видит свой прогресс

**Уровень курса:**

**1. Activity Completion (отслеживание завершения активностей)**

- Преподаватель настраивает для каждой активности условия завершения:
  - **Automatic:** "Просмотр" (viewed), "Submit" (сдача задания), "Receive grade" (получение оценки)
  - **Manual:** студент вручную отмечает "Mark as done"
- Студент видит:
  - **В Course Index:** галочка ✓ рядом с завершённым элементом
  - **На странице активности:** индикатор "Completed" / "Not completed"

**2. Course Completion (завершение курса)**

- Преподаватель настраивает критерии завершения курса:
  - Завершить все обязательные активности
  - Получить минимальную итоговую оценку (например, 70%)
  - Provести минимум времени в курсе
- Студент видит:
  - **Course completion status block:** прогресс-бар + список критериев (done/not done)
  - **Gradebook:** итоговая оценка курса

**Проблема:** стандартный Moodle НЕ показывает прогресс в % на Dashboard → требуется плагин "Progress Bar" или "Completion Progress".

**3. Gradebook (Журнал оценок студента)**

- Вкладка **Grades** в меню курса
- Таблица: активность | оценка | feedback
- **Цветовая индикация:**
  - Зелёный текст — оценка выше среднего
  - Красный текст — оценка ниже проходного балла (если настроен threshold)
- **User report:** итоговая оценка курса + разбивка по категориям (Assignments: 80%, Quizzes: 75%)

**Уровень системы:**

**4. Timeline (дашборд)**

- Список ближайших дедлайнов из всех курсов
- Визуальная индикация: "Due in 2 days" (оранжевый), "Overdue" (красный)

**5. Calendar**

- Общий календарь всех курсов
- Экспорт в Google Calendar / Outlook (iCal feed)

**Totara Learn: расширенный прогресс-трекинг**

- **Program Completion:** прогресс по программе обучения (несколько курсов)
- **Competency Progress:** визуализация развития компетенций (например, "API Design: 60% proficient")
- **Certification Status:** индикатор срока действия сертификата + напоминания о recertification

### 3.4. Визуальный дизайн: цветовая схема, типографика, UI-компоненты

**Moodle 4.0 Design Language**

**Цветовая схема (Boost theme — default):**

- **Primary color:** Синий (#0F6CBF) — ссылки, кнопки, акценты
- **Secondary colors:** Серый (#6A737B) для текста, белый фон
- **Semantic colors:**
  - Успех (success): Зелёный (#28A745) — completed tasks, positive feedback
  - Предупреждение (warning): Оранжевый (#F0AD4E) — upcoming deadlines
  - Ошибка (danger): Красный (#D9534F) — overdue, failed
  - Информация (info): Голубой (#17A2B8) — hints, help text

**Кастомизация:** Администратор может изменить цвета темы (Settings → Appearance → Themes → Boost → Brand color)

**Типографика:**

- **Шрифт:** Open Sans (sans-serif) — читаемый, современный
- **Иерархия заголовков:** H1-H6 с чёткой разницей в размере
- **Body text:** 16px (для accessibility)
- **Responsive typography:** шрифт адаптируется под размер экрана

**UI-компоненты:**

1. **Кнопки:**
   - Primary (синие, для основных действий: "Submit", "Save")
   - Secondary (серые с обводкой, для второстепенных действий: "Cancel")
   - Danger (красные, для удаления)

2. **Карточки (Cards):**
   - Elevation (тень) для визуального разделения
   - Rounded corners (скруглённые углы)

3. **Icons:**
   - **Font Awesome** для большинства иконок
   - **Moodle 4.4 (2025):** streamlined line icons для активностей (более современный вид)

4. **Forms:**
   - Чёткие labels над полями
   - Inline validation (ошибки показываются сразу при вводе)
   - Required fields отмечены красной звёздочкой

5. **Modals (модальные окна):**
   - Для критических действий (Delete, Unpublish)
   - Затемнение фона (overlay) для фокусировки внимания

**Accessibility (доступность):**

- **WCAG 2.1 AA compliance** (стандарт доступности)
- Клавиатурная навигация (Tab, Enter, Esc)
- Screen reader support (ARIA-атрибуты)
- High contrast mode (для слабовидящих)
- Возможность увеличения текста до 200% без потери функциональности

### 3.5. Мобильная адаптация: отзывчивость, нативные приложения

**Responsive Web Design:**

- Moodle 4.0 полностью responsive — адаптация под планшеты и смартфоны
- **Breakpoints:** Desktop (>1200px), Tablet (768-1199px), Mobile (<768px)
- На мобильных: hamburger menu для навигации, вертикальные карточки курсов

**Moodle Mobile App (официальное приложение):**

- **Доступность:** iOS (12.0+), Android (5.0+)
- **Рейтинг:** 3.5★ (критика: "Не все функции доступны")
- **Основные функции:**
  - Просмотр курсов и материалов
  - Сдача заданий (upload файлов, text entry)
  - Прохождение тестов (ограниченные типы вопросов)
  - Участие в форумах
  - Просмотр оценок (Gradebook)
  - Уведомления (push notifications)
  - Offline access (скачивание материалов для работы оффлайн)

**Ограничения мобильного приложения:**

- ❌ Нет поддержки всех типов активностей (например, Workshop — peer review недоступен)
- ❌ Преподавательские функции ограничены (нельзя создавать курсы, только проверять задания)
- ❌ Сложные тесты (с формулами, matching) могут некорректно отображаться

**Критика мобильного UX:**

- Пользователи жалуются на **отсутствие интуитивности** (наследие desktop-интерфейса)
- Некоторые функции "спрятаны" глубоко в меню
- Performance issues на старых устройствах

### 3.6. Уникальные UX-фишки: что выделяет платформу

**1. Course Index (Moodle 4.0) — всегда видимая структура курса**

- **Проблема:** В старых версиях студент терялся в длинном курсе ("Где я сейчас?")
- **Решение:** Course Index в левой панели — древовидная навигация с текущей позицией
- **Преимущество:** снижение когнитивной нагрузки, быстрый переход между темами

**2. Activity Completion — гибкая система отслеживания**

- Преподаватель может настроить **комбинацию условий** для завершения:
  - "Просмотреть страницу" AND "Получить оценку >70% на тесте"
- Поддержка **manual override** — преподаватель может вручную отметить активность как завершённую

**3. Question Bank (банк вопросов) — переиспользование вопросов**

- Вопросы для тестов хранятся отдельно от тестов
- Преподаватель создаёт библиотеку вопросов → использует их в разных тестах
- Поддержка **импорта** вопросов (GIFT format, Aiken, Moodle XML)
- **Случайный выбор** вопросов для каждого студента (anti-cheating)

**4. Workshop (peer review) — взаимная проверка работ**

- Студенты проверяют работы друг друга по критериям (рубрикам)
- Преподаватель оценивает **качество проверки** (feedback on feedback)
- **Use case:** большие курсы, где преподаватель физически не успевает проверить все работы

**5. Cohorts (когорты) — автоматическое зачисление**

- Администратор создаёт когорту (группу пользователей): "Все из департамента IT"
- Настройка правила: "Когорта IT → автоматически зачислить на курс 'Git Basics'"
- **Динамические когорты (Totara):** правила обновляются автоматически (новый сотрудник IT → сразу зачислен)

**6. Badges (бейджи) — геймификация**

- **Open Badges** стандарт (Mozilla) — цифровые бейджи с метаданными
- Преподаватель настраивает критерии: "Получить >90% на всех тестах" → выдаётся бейдж "Expert"
- Студент может **экспортировать бейдж** в LinkedIn, резюме
- **Ограничение:** базовая геймификация, нет лидербордов/XP

**7. BigBlueButton (встроенные вебинары)**

- Интеграция с open-source платформой BigBlueButton
- Преподаватель может создать **live session** прямо в курсе
- Функции: видеоконференция, screen sharing, чат, whiteboard
- **Запись сессий** доступна студентам после окончания

## 4. Ключевые процессы

### 4.1. Регистрация и запись на курс

**Процесс 1: Массовое зачисление администратором (типично для корпоративного сектора)**

```
[HR-система] → Экспорт списка сотрудников (CSV: username, email, firstname, lastname, courseid)
    ↓
[Администратор Moodle] → Site administration → Users → Upload users → выбирает CSV
    ↓
Moodle парсит CSV → создаёт User (если новый) → создаёт Enrolment (связь User-Course)
    ↓
Moodle отправляет: Welcome email с логином/паролем (если новый пользователь)
    ↓
[Студент] → Переходит по ссылке → устанавливает пароль → входит в систему
    ↓
Dashboard показывает назначенный курс в списке "Мои курсы"
```

**Процесс 2: Самостоятельная запись (Self-enrolment)**

```
[Студент] → Заходит на Site Home → Course catalogue → выбирает курс
    ↓
Moodle проверяет: разрешена ли самозапись (Enrol method = Self)?
    ↓ (да)
Страница курса → кнопка "Enrol me"
    ↓
(если требуется Enrolment key)
[Студент] → Вводит ключ записи (выдаётся преподавателем)
    ↓
Moodle создаёт: Enrolment (userid, courseid, role=Student, status=active)
    ↓
Редирект на курс → студент видит материалы
```

**Процесс 3: Автоматическое зачисление через Cohorts (Totara Dynamic Audiences)**

```
[Администратор] → Создаёт Dynamic Audience с правилом: "Должность = 'Разработчик' AND Департамент = 'Backend'"
    ↓
[Администратор] → Настраивает: Audience → автоматически зачислить на курс "API Design Basics"
    ↓
[Новый сотрудник] → Добавлен в HR-систему с должностью "Разработчик Backend"
    ↓
Totara (ежедневный cron) → проверяет правила аудиторий → добавляет сотрудника в аудиторию
    ↓
Totara автоматически создаёт: Enrolment для нового члена аудитории
    ↓
Totara отправляет: Email notification "Вы зачислены на курс API Design"
    ↓
[Сотрудник] → Видит курс на Dashboard
```

### 4.2. Прохождение курса (student journey)

#### 4.2.1. Доступ к материалам

```
[Студент] → Dashboard → клик на карточку курса → Course home page
    ↓
Moodle проверяет: Course format (Topics/Weeks)
    ↓ (Topics)
Отображает: разделы (Topic 1, Topic 2...) с активностями
    ↓
[Студент] → Кликает на Page ("Lecture 1: Introduction")
    ↓
Moodle отображает: контент страницы (rich-text, видео, файлы)
    ↓
(если настроен Activity Completion = "View")
Moodle фиксирует: course_modules_completion (completionstate=1, timemodified=now)
    ↓
Course Index обновляется: галочка ✓ рядом с "Lecture 1"
```

#### 4.2.2. Выполнение задания

```
[Студент] → Открывает Assignment из раздела курса
    ↓
Moodle отображает:
   - Описание задания (intro)
   - Дедлайн (due date)
   - Максимальный балл (grade)
   - Тип submission (file upload / text online / external tool)
   - Прикреплённые файлы от преподавателя (template, instructions)
    ↓
[Студент] → Готовит решение (Word/PDF документ)
    ↓
[Студент] → Кликает "Add submission" → выбирает File upload → загружает файл
    ↓
Moodle создаёт: assign_submission (userid, assignment, timemodified, status='submitted')
    ↓
Moodle сохраняет файл: mdl_files (связь с submission)
    ↓
Moodle отправляет: Email notification преподавателю "Student X submitted Assignment Y"
    ↓
[Студент] видит: статус submission = "Submitted for grading" + timestamp
    ↓
(если настроен Activity Completion = "Submit")
Moodle обновляет: course_modules_completion (completionstate=1)
```

#### 4.2.3. Сдача теста

```
[Студент] → Открывает Quiz из раздела курса
    ↓
Moodle отображает: Quiz intro (описание, правила, количество вопросов, время)
    ↓
[Студент] → Кликает "Attempt quiz now"
    ↓
Moodle создаёт: quiz_attempt (userid, quiz, attempt=1, timestart=now, state='inprogress')
    ↓
(если настроен timelimit)
Moodle запускает: таймер обратного отсчёта (JavaScript)
    ↓
Moodle отображает: вопросы (по одному или все сразу — настройка преподавателя)
    ↓
[Студент] → Отвечает на вопросы (выбирает радиокнопки, вводит текст)
    ↓
[Студент] → Кликает "Submit all and finish"
    ↓
Moodle обновляет: quiz_attempt (timefinish=now, state='finished')
    ↓
Moodle автоматически проверяет: objective questions (multiple choice, true/false, numerical)
    ↓
Moodle вычисляет: sumgrades (сумма баллов автопроверяемых вопросов)
    ↓
(если есть essay questions)
Moodle помечает: "Requires manual grading by teacher"
    ↓
Moodle создаёт: grade_grades (связь с Gradebook)
    ↓
Moodle отображает студенту:
   - Итоговый балл (X out of Y)
   - Правильные/неправильные ответы (если настройка Review options разрешает)
   - Feedback по каждому вопросу
```

#### 4.2.4. Получение обратной связи

```
[Преподаватель] → Course → Grades → Grader report (матрица студенты × задания)
    ↓
Видит: оранжевая ячейка = "submission awaits grading"
    ↓
[Преподаватель] → Кликает на ячейку → переход в Assignment grading interface
    ↓
Moodle отображает:
   - Submission файл студента (preview в браузере)
   - Форма для оценки (grade out of X points)
   - Текстовое поле для feedback
    ↓
[Преподаватель] → Вводит оценку (85/100) + комментарий "Хорошая работа, но не хватает примеров"
    ↓
[Преподаватель] → Кликает "Save changes"
    ↓
Moodle обновляет: assign_grades (grade=85, grader=teacher_id, timemodified=now)
    ↓
Moodle пересчитывает: Gradebook (итоговая оценка курса)
    ↓
Moodle отправляет: Email notification студенту "Your assignment has been graded"
    ↓
[Студент] → Открывает Assignment → видит:
   - Оценку (85/100)
   - Комментарий преподавателя
   - (если настроено) PDF с annotations (пометками)
    ↓
[Студент] может ответить: Submission comments (двусторонняя коммуникация)
```

### 4.3. Завершение курса и сертификация

**Moodle (базовый процесс):**

```
[Студент] → Завершает последнюю активность курса
    ↓
Moodle проверяет: Course completion criteria выполнены?
   - Критерии: все обязательные активности завершены + итоговая оценка >= 70%
    ↓ (да)
Moodle обновляет: course_completions (userid, course, timecompleted=now)
    ↓
Course completion status block показывает: "Completed" + дата
    ↓
(если установлен плагин Certificate)
Moodle генерирует: PDF-сертификат с именем студента, названием курса, датой
    ↓
Moodle отправляет: Email со ссылкой на скачивание сертификата
```

**Totara Learn (встроенная сертификация):**

```
[Администратор] → Создаёт Certification program:
   - Certification path: Course 1 → Course 2 → Final exam
   - Expiry period: 12 months
   - Recertification path: Course 2 (refresher) → Final exam
    ↓
[Студент] → Проходит все курсы программы сертификации
    ↓
Totara проверяет: все курсы завершены + итоговый экзамен сдан (>= 80%)
    ↓ (да)
Totara создаёт: certification_completion (userid, certificationid, status='certified', timecompleted=now, timeexpires=now+12months)
    ↓
Totara генерирует: PDF-сертификат (с QR-кодом для верификации)
    ↓
Totara отправляет: Email "Вы сертифицированы! Сертификат действителен до [дата]"
    ↓
[Студент] → Скачивает сертификат, добавляет в портфолио/резюме
    ↓
(за 30 дней до expiry)
Totara отправляет: Reminder email "Ваша сертификация истекает, пройдите recertification"
    ↓
[Студент] → Проходит Recertification path
    ↓
Totara обновляет: certification_completion (timeexpires продлён на +12 months)
```

### 4.4. Административные процессы

**Создание курса:**

```
[Преподаватель/Manager] → Site administration → Courses → Add a new course
    ↓
Заполняет форму: Full name, Short name, Category, Course format, Start/End dates
    ↓
Moodle создаёт: Course (visible=0 — по умолчанию скрыт до публикации)
    ↓
[Преподаватель] → "Turn editing on" → добавляет Sections + Activities
    ↓
[Преподаватель] → Settings → Course completion → настраивает критерии завершения
    ↓
[Преподаватель] → Кликает "Publish" (visible=1)
    ↓
Курс становится доступен студентам (если они зачислены)
```

**Отчётность (Totara Learn — расширенные возможности):**

```
[Менеджер] → Reports → Report Builder → Create custom report
    ↓
Выбирает источник данных: "Course Completion"
    ↓
Добавляет столбцы: User name, Course name, Completion date, Final grade
    ↓
Настраивает фильтры: Department = "IT", Completion date >= 2024-01-01
    ↓
Totara генерирует: таблицу данных (можно экспортировать в Excel/PDF)
    ↓
[Менеджер] → Настраивает: Scheduled report (отправка на email каждый понедельник)
    ↓
Totara автоматически: отправляет отчёт на email менеджера
```

## 5. Что можно взять для B3 LMS

### 5.1. Модель данных и архитектурные паттерны

**1. Контекстные роли (MUST HAVE)**
- **Описание:** Роль пользователя определяется в контексте (система/курс/активность), один пользователь может иметь разные роли в разных курсах
- **Реализация в B3:** Сущность `Назначение роли` с полями: `Пользователь`, `Курс` (nullable), `Роль` (справочник), `Контекст` (система/курс/модуль)
- **Приоритет:** MUST HAVE

**2. Course Categories (иерархия курсов) (MUST HAVE)**
- **Описание:** Многоуровневая категоризация курсов (Департаменты → Отделы → Темы)
- **Реализация в B3:** Сущность `Категория курсов` с полем `Родительская категория` (self-reference) + поля `depth`, `path` для быстрого поиска
- **Приоритет:** MUST HAVE (для организаций с большим количеством курсов)

**3. Activity Completion tracking (MUST HAVE)**
- **Описание:** Гибкая система отслеживания завершения элементов курса (просмотр/сдача/оценка/ручное)
- **Реализация в B3:** Сущность `Завершение элемента` с полями: `Пользователь`, `Элемент курса`, `Статус завершения` (не начато/выполнено/пройдено/не пройдено), `Дата завершения`
- **BPMN-процесс:** Триггер на "Просмотр страницы" / "Сдача задания" → автоматическое обновление статуса
- **Приоритет:** MUST HAVE

**4. Gradebook с динамическим вычислением (MUST HAVE)**
- **Описание:** Итоговая оценка курса = аггрегация (сумма/среднее/взвешенное среднее) оценок элементов + категорий с весами
- **Реализация в B3:** Вычисляемое поле `Итоговый балл` в сущности `Запись на курс`, формула учитывает веса категорий заданий
- **Приоритет:** MUST HAVE

**5. Totara: Dynamic Audiences (rule-based cohorts) (HIGH PRIORITY)**
- **Описание:** Автоматическое формирование аудиторий по правилам ("Должность = X AND Департамент = Y") → автозачисление на курсы
- **Реализация в B3:**
  - Сущность `Аудитория` с полем `Правило` (формула B3 Platform: `User.Department == "IT" && User.Position == "Developer"`)
  - BPMN-процесс (ежедневный cron): пересчёт членства в аудиториях → создание записей на курсы
- **Приоритет:** HIGH (критично для автоматизации корпоративного обучения)

**6. Totara: Competency Framework (NICE TO HAVE для v2.0)**
- **Описание:** Иерархия компетенций → mapping с курсами → отслеживание развития компетенций сотрудников
- **Реализация в B3:**
  - Сущность `Компетенция` (иерархическая)
  - Связь `Компетенция → Курс` (курс развивает компетенцию)
  - Связь `Компетенция → Должность` (должность требует компетенцию)
  - Вычисляемое поле `Уровень компетенции` пользователя (на основе пройденных курсов)
- **Приоритет:** NICE TO HAVE (v2.0+)

### 5.2. UX/UI паттерны

**7. Course Index (левая панель с навигацией курса) (MUST HAVE)**
- **Описание:** Постоянно видимая структура курса (разделы → элементы) с индикацией завершения и текущей позиции
- **Реализация в B3:** Dashboard Builder компонент "Древовидная навигация курса" с биндингом к сущности `Модуль курса`
- **Приоритет:** MUST HAVE (один из главных UX-улучшений Moodle 4.0)

**8. Timeline block (дашборд с ближайшими дедлайнами) (MUST HAVE)**
- **Описание:** Actionable список ближайших заданий с кнопками быстрого перехода ("Assignment due in 2 days" → "Go to assignment")
- **Реализация в B3:**
  - Вычисляемый список: выбрать все `Экземпляр задания` где `Дедлайн` между NOW и NOW+30days, сортировка по дедлайну
  - Dashboard widget с отображением списка + кнопки "Перейти к заданию"
- **Приоритет:** MUST HAVE

**9. Collapsible sections (сворачиваемые разделы курса) (MUST HAVE)**
- **Описание:** Студент может свернуть уже пройденные разделы → фокус на текущем материале
- **Реализация в B3:** JavaScript для collapse/expand разделов + сохранение состояния в LocalStorage браузера
- **Приоритет:** MUST HAVE (снижение когнитивной нагрузки)

**10. Bulk actions (массовые операции для преподавателя) (NICE TO HAVE)**
- **Описание:** Выделить несколько активностей → скрыть/удалить/переместить одной кнопкой
- **Реализация в B3:** Режим редактирования курса с чекбоксами для активностей + кнопки массовых операций
- **Приоритет:** NICE TO HAVE (v2.0)

### 5.3. Процессы (BPMN-шаблоны)

**11. Процесс "Автоматическое зачисление через аудитории" (HIGH PRIORITY)**
- **Описание:** Пользователь добавлен в HR → соответствует правилам аудитории → автоматически зачислен на курсы
- **BPMN для B3:**
  ```
  Триггер: Timer Event (ежедневно 02:00)
    → Service Task: Пересчитать членство в динамических аудиториях
    → Gateway: Есть новые члены?
      → (да) Service Task: Создать записи на курсы для новых членов
      → Service Task: Отправить email-уведомления
  ```
- **Приоритет:** HIGH (автоматизация онбординга сотрудников)

**12. Процесс "Автоматическая выдача сертификата при завершении курса" (MUST HAVE)**
- **Описание:** Студент завершил курс + оценка >= порога → автогенерация сертификата → отправка email
- **BPMN для B3:**
  ```
  Триггер: Сигнал "Завершена активность курса"
    → Service Task: Проверить критерии завершения курса
    → Gateway: Все критерии выполнены?
      → (да) Service Task: Создать Экземпляр сертификата
      → Service Task: Сгенерировать PDF через конструктор печатных форм B3
      → Service Task: Прикрепить PDF к Экземпляру сертификата
      → Service Task: Отправить email со ссылкой на сертификат
  ```
- **Приоритет:** MUST HAVE (преимущество B3 над Moodle — встроенный конструктор печатных форм)

**13. Процесс "Напоминание о дедлайнах" (NICE TO HAVE)**
- **Описание:** За N дней до дедлайна → автоотправка email студенту
- **BPMN для B3:**
  ```
  Триггер: Timer Event (ежедневно 09:00)
    → Service Task: Выбрать задания с дедлайном через 3 дня (и не сданные)
    → Loop: для каждого задания
      → Service Task: Отправить email студенту "Reminder: Assignment due in 3 days"
  ```
- **Приоритет:** NICE TO HAVE (v2.0)

**14. Totara: Процесс "Recertification reminders" (NICE TO HAVE для v2.0)**
- **Описание:** За 30 дней до истечения сертификата → автоматическое напоминание + автозачисление на recertification path
- **BPMN для B3:** Аналогично процессу дедлайнов, но с проверкой `Сертификат.Срок действия`
- **Приоритет:** NICE TO HAVE (актуально, если B3 LMS будет использоваться для compliance-обучения)

### 5.4. Функциональные элементы

**15. Question Bank (банк вопросов) (NICE TO HAVE для v2.0)**
- **Описание:** Переиспользование вопросов между тестами + случайный выбор вопросов
- **Реализация в B3:** Сущность `Вопрос` (отдельно от `Тест`), связь `Тест → Вопросы` (many-to-many)
- **Приоритет:** NICE TO HAVE (v2.0) — в v1.0 вопросы привязаны к конкретному тесту

**16. BigBlueButton интеграция (LOW PRIORITY)**
- **Описание:** Встроенные вебинары прямо в курсе
- **Реализация в B3:** Интеграция с open-source BigBlueButton через API или с российскими аналогами (TrueConf, Яндекс.Телемост)
- **Приоритет:** LOW (для синхронного обучения, не первая очередь для B3 Learning Portal)

**17. Responsive design (MUST HAVE)**
- **Описание:** Адаптация под планшеты и смартфоны
- **Реализация в B3:** B3 Platform уже имеет responsive framework, нужно обеспечить корректную вёрстку всех страниц LMS
- **Приоритет:** MUST HAVE

**18. Accessibility (WCAG 2.1 AA) (HIGH PRIORITY)**
- **Описание:** Доступность для людей с ограниченными возможностями
- **Реализация в B3:** Клавиатурная навигация, ARIA-атрибуты, high contrast mode
- **Приоритет:** HIGH (обязательно для госсектора)

## 6. Что НЕ подходит

### 6.1. Архитектурные решения

**1. Отсутствие разделения "Шаблон курса" vs "Экземпляр курса"**
- **Проблема:** В Moodle каждый курс = самостоятельная сущность, копирование курса создаёт независимый дубликат без связи с оригиналом
- **Почему НЕ брать:** Для корпоративного обучения B3 критично иметь **master template** (обновления в шаблоне → автообновление экземпляров)
- **Что делать:** Реализовать явное разделение: `Шаблон курса` → `Экземпляр курса` (как в `gpt_design.md`)

**2. Plugin architecture (жирное ядро + плагины)**
- **Проблема:** Moodle имеет ~35 типов плагинов с разными API, сложная система зависимостей
- **Почему НЕ брать полностью:** B3 Platform имеет собственную архитектуру расширений (модули), дублирование усложнит систему
- **Что взять:** Концепцию плагинов **активностей** (Assignment, Quiz, Forum) — в B3 можно реализовать как разные типы сущности `Элемент курса`

**3. Отсутствие multi-tenancy в базовом Moodle**
- **Проблема:** Базовый Moodle = одна организация. Multi-tenancy только в Totara (платная лицензия)
- **Почему НЕ брать:** Для B3 LMS (обучение партнёров B3 платформе) multi-tenancy может быть полезна (разные компании-партнёры → изолированные среды)
- **Что делать:** Если multi-tenancy критична — изучить архитектуру Totara Tenants, но для MVP B3 LMS достаточно одного tenant

### 6.2. UX/UI решения с проблемами

**4. Перегруженный Dashboard (даже в Moodle 4.0)**
- **Проблема:** Слишком много блоков (Course overview, Timeline, Calendar, Recent activity, Private files) → visual clutter
- **Почему НЕ брать:** Пользователи жалуются на "информационный шум", сложно найти главное
- **Что делать:** Минималистичный Dashboard с **приоритизацией контента**: Мои курсы (с прогресс-барами) + Ближайшие дедлайны (Timeline) + кнопка "Продолжить обучение"

**5. Отсутствие прогресс-баров на карточках курсов на Dashboard**
- **Проблема:** Стандартный Moodle не показывает % завершения курса на карточке (требуется плагин)
- **Почему НЕ брать это ограничение:** Прогресс-бар — один из самых запрашиваемых элементов (геймификация, мотивация)
- **Что делать:** **Обязательно** добавить прогресс-бар на карточки курсов в B3 LMS Dashboard

**6. "Turn editing on/off" для преподавателей**
- **Проблема:** Преподаватель должен вручную переключаться в режим редактирования (кнопка "Turn editing on") → дополнительный клик
- **Почему НЕ брать:** Устаревший паттерн, современные системы показывают элементы редактирования **контекстно** (hover → появляется кнопка редактирования)
- **Что делать:** Inline editing в B3 LMS (клик на название → редактирование, без переключения режимов)

### 6.3. Функции, избыточные для B3 LMS v1.0

**7. Workshop (peer review) — взаимная проверка работ**
- **Проблема:** Сложная логика (студенты проверяют друг друга → преподаватель оценивает качество проверки)
- **Почему НЕ брать для v1.0:** Актуально для MOOC с тысячами студентов, но не для корпоративного обучения B3 (группы 10-30 человек, преподаватель успевает проверить сам)
- **Приоритет:** Отложить в backlog (v3.0+)

**8. Lesson (пошаговое обучение с ветвлением)**
- **Проблема:** Сложный модуль активности — студент отвечает на вопросы → в зависимости от ответа показывается разный контент
- **Почему НЕ брать для v1.0:** Требует визуального редактора ветвлений, сложная реализация
- **Альтернатива:** Простые prerequisites на уровне модулей курса (Модуль 2 открывается после завершения Модуля 1)
- **Приоритет:** Отложить (v2.0+, если будет запрос на adaptive learning)

**9. SCORM packages (интеграция SCORM-контента)**
- **Проблема:** SCORM = старый стандарт e-learning, требует отдельного плеера, сложное отслеживание прогресса
- **Почему НЕ брать для v1.0:** B3 LMS строится на современных веб-технологиях (HTML5, видео, интерактивные элементы), SCORM актуален только при миграции legacy-контента
- **Приоритет:** LOW (только если у заказчика есть legacy SCORM-курсы)

**10. Glossary, Wiki, Database (коллаборативные активности)**
- **Проблема:** Специфичные модули для академического обучения (студенты создают общий глоссарий терминов, wiki-страницы, базы данных)
- **Почему НЕ брать для v1.0:** Не актуально для корпоративного обучения B3 (фокус: видео-лекции + задания + тесты)
- **Приоритет:** LOW

### 6.4. Технические ограничения и проблемы

**11. Производительность Gradebook на больших курсах**
- **Проблема:** Пользователи жалуются на медленную загрузку Gradebook (матрица студенты × задания) при >500 студентов + >50 заданий
- **Почему НЕ брать архитектуру:** Moodle вычисляет Gradebook на лету при каждом запросе → дорого при больших объёмах
- **Что делать в B3:** Кэширование итоговых оценок + пересчёт только при изменении (BPMN-процесс на событие "Оценка выставлена" → обновить кэш)

**12. Сложность установки и обслуживания (self-hosted)**
- **Проблема:** Moodle требует: веб-сервер (Apache/Nginx), PHP, БД (MySQL/PostgreSQL), cron-настройки, регулярные обновления безопасности → высокие IT-затраты
- **Почему НЕ брать модель:** Для B3 LMS, работающего на B3 Platform, вся инфраструктура уже есть (БД, веб-сервер, cron через BPMN), дополнительные зависимости (PHP) не нужны
- **Преимущество B3:** All-in-one платформа, не требует отдельной установки компонентов

**13. Отсутствие официальной техподдержки**
- **Проблема:** Moodle — open source, техподдержка только от сообщества (форумы, Slack) или платных партнёров
- **Почему НЕ брать модель:** Для корпоративных заказчиков B3 критична **гарантированная техподдержка** → B3 LMS должен иметь SLA, support tickets
- **Преимущество B3:** Официальная поддержка от команды B3

### 6.5. Критика UX (учесть при проектировании B3 LMS)

**14. Медленная скорость работы на мобильных**
- **Проблема:** Пользователи жалуются на performance issues Moodle Mobile на старых устройствах (Android <8.0)
- **Что делать в B3:** Оптимизация мобильной версии (Progressive Web App вместо нативного приложения в v1.0, lazy loading, минимизация JS)

**15. Запутанная навигация в административной панели**
- **Проблема:** Настройки Moodle разбросаны по десяткам подразделов (Site administration → 20+ категорий настроек)
- **Что делать в B3:** Упрощённая админ-панель с поиском по настройкам + пошаговые wizards для типовых задач (создание курса, зачисление пользователей)

---

## 7. Ссылки

### Официальные источники

1. **Moodle официальный сайт**
   https://moodle.org

2. **Totara Learn официальный сайт**
   https://www.totaralearning.com/products/totara-learn-lms

3. **Moodle 4.0 announcement — новый UX**
   https://moodle.com/news/moodle-4-is-here/

4. **Moodle 4.0 navigation improvements (MoodleDocs)**
   https://docs.moodle.org/dev/Moodle_4.0_navigation_improvements

5. **Upgrade Your Moodle UX in 2025 (Edwiser blog)**
   https://edwiser.org/blog/moodle-ux-elevate-learning-to-new-heights/

### Документация и Developer Resources

6. **Moodle Architecture (MoodleDocs)**
   https://docs.moodle.org/dev/Moodle_architecture

7. **Moodle Plugin Types (developer guide)**
   https://jewelhuq.medium.com/what-is-a-moodle-plugin-a-complete-guide-to-plugin-types-structure-and-how-to-create-your-own-781db31f5389

8. **The Architecture of Open Source Applications: Moodle**
   https://aosabook.org/en/v2/moodle.html

9. **Totara Learn — What is it?**
   https://totara.help/docs/what-is-totara-learn

10. **Totara Learn features (Hubken Group)**
    https://www.hubkengroup.com/resources/what-is-totara-the-ultimate-guide-to-a-totara-lms

### Сравнительные обзоры

11. **Moodle vs Totara: Complete Comparison (BuildEmpire)**
    https://buildempire.co.uk/moodle-vs-totara/

12. **Moodle vs Totara: Which LMS is Right? (Lambda Solutions)**
    https://www.lambdasolutions.net/guides-and-research/moodle-vs-totara-lms

13. **Difference between Totara and Moodle (Hubken Group)**
    https://www.hubkengroup.com/resources/difference-between-totara-and-moodle

14. **Totara vs Moodle vs Moodle Workplace (Totara Learning)**
    https://www.totara.com/resources/totara-vs-moodle-comparison/

### Moodle Limitations & Reviews

15. **The Limitations of Moodle Framework (ScalaHosting)**
    https://www.scalahosting.com/blog/the-limitations-of-the-moodle-framework/

16. **Moodle Pros and Cons 2025 (PeerSpot)**
    https://www.peerspot.com/products/moodle-pros-and-cons

17. **Moodle Reviews 2025 (Capterra)**
    https://www.capterra.com/p/80691/Moodle/reviews/

18. **Pros and Cons of Moodle as LMS Platform (Course Orbit)**
    https://courseorbit.com/blog/pros-and-cons-of-moodle-as-an-lms-platform/

### Totara Pricing & Enterprise Features

19. **Totara Learn Pricing 2025 (eLearning Industry)**
    https://elearningindustry.com/directory/elearning-software/totara-learn/pricing

20. **Totara Learn Pricing Plans (Hubken Group)**
    https://www.hubkengroup.com/pricing

21. **Top 5 Totara Learn features (Hubken Group)**
    https://www.hubkengroup.com/resources/the-top-5-totara-learn-features-you-should-be-using

### Video Resources

22. **Welcome to a new user experience — Moodle 4.0 (YouTube, official)**
    https://www.youtube.com/watch?v=moodle40-promo (поиск: "Moodle 4.0 new UX")

23. **Moodle 4.0 is here — what to expect (Titus Learning blog)**
    https://www.tituslearning.com/moodle-4-0-is-here-what-to-expect-from-the-new-version-of-moodle/

### Russian Market & Government Adoption

24. **Russia E-Learning Market Size 2033 (IMARC Group)**
    https://www.imarcgroup.com/russia-e-learning-market

25. **Features of Moodle Use in Teaching Russian Language (ResearchGate)**
    https://www.researchgate.net/publication/287150929_Features_of_the_Learning_Modular_System_Moodle_Use_in_Teaching_the_Russian_Language_to_Russian_and_Foreign_Students_at_an_Institution_of_Higher_Education

---

**Конец анализа Moodle / Totara Learn**

**Основные выводы для B3 LMS:**

1. **Moodle 4.0 доказывает: UX можно модернизировать постепенно** — для B3 LMS (строится на существующей платформе B3) это важный урок: поэтапные улучшения лучше революционных переписываний

2. **Totara показывает, как адаптировать академическую LMS для бизнеса:**
   - Dynamic Audiences → автоматизация зачисления
   - Competency Framework → связь обучения с должностными требованиями
   - Certifications с recertification → compliance для госсектора

3. **Ключевые паттерны для заимствования:**
   - Course Index (левая панель навигации)
   - Timeline block (actionable дедлайны)
   - Activity Completion tracking (гибкая система завершения)
   - Контекстные роли (один пользователь = разные роли в разных курсах)

4. **Преимущества B3 Platform над Moodle:**
   - **Встроенный конструктор печатных форм** → автоматическая генерация сертификатов (в Moodle требуется плагин)
   - **BPMN Designer** → автоматизация процессов (в Moodle — только через custom code)
   - **Dashboard Builder** → кастомизация дашбордов без программирования (в Moodle — жёсткая структура)

5. **Критические отличия российского рынка:**
   - **Self-hosted** — обязательное требование для госсектора (импортозамещение)
   - **Интеграция с ЕСИА** (Единая система идентификации) вместо SAML/OAuth западных провайдеров
   - **Отчётность по стандартам РФ** (форматы отчётов, требования к хранению данных)

6. **Что НЕ брать:**
   - Отсутствие разделения "Шаблон → Экземпляр" курса
   - Перегруженный Dashboard с множеством блоков
   - Отсутствие прогресс-баров на карточках курсов (частая критика пользователей)
   - Peer review (Workshop) и SCORM — низкий приоритет для корпоративного обучения
